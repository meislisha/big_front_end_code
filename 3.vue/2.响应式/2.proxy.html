<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app">lisha</div>
  </body>
  <script>
    let data = {
      msg: 'lisha'
    }
    // Object.defineProperty(vm,'msg',{
    //   enumerable:true,
    //   configurable:true,
    //   get(){
    //     console.log(`get ${data.msg}`)
    //   },
    //   set(val){
    //     if(val===data.msg) return
    //     data.msg=val
    //     console.log('set msg',val);
    //     document.getElementById('app').innerHTML=val
    //   }
    // })
let vm = new Proxy(data, {
  get(target, key) {
    console.log(`get ${key} ${target[key]}`)
    return target[key]
  },
  set(target, key, newValue) {
    if (newValue === target[key]) return
    target[key] = newValue
    console.log(`get ${key} ${newValue}`)
    document.getElementById('app').innerHTML = newValue
  }
})
    vm.msg = 'hello workd'
    console.log(vm.msg)
  </script>
</html>
